-- Seed for Neurodiversity Advantage Training

DO $$
DECLARE
    v_challenge_id UUID;
    v_json_content JSONB;
BEGIN
    -- Check if challenge exists, if not insert. 
    -- Note: Removed 'duration' as it does not exist.
    -- Added 'category' as it is required (NOT NULL).
    INSERT INTO challenges (slug, title, description, category, "group", tags)
    VALUES (
        'neurodiversity-advantage-7-day',
        'Neurodiversity Advantage Training',
        'A 7-day intensive journey exploring how autistic people benefit the world, focusing on strengths and positive contributions.',
        'Identity',
        'identity',
        ARRAY['Autism', 'Neurodiversity', 'Strengths', 'Identity']
    )
    ON CONFLICT (slug) DO UPDATE SET
        title = EXCLUDED.title,
        description = EXCLUDED.description
    RETURNING id INTO v_challenge_id;

    -- If we updated and didn't get an ID back (shouldn't happen with RETURNING, but just in case of race conditions or no update needed logic which RETURNING handles fine usually)
    IF v_challenge_id IS NULL THEN
        SELECT id INTO v_challenge_id FROM challenges WHERE slug = 'neurodiversity-advantage-7-day';
    END IF;

    -- DELETE existing tasks to ensure clean slate for this challenge
    DELETE FROM challenge_tasks WHERE challenge_id = v_challenge_id;

    -- Day 1
    INSERT INTO challenge_tasks (challenge_id, day_number, title, instructions, points, content_data, created_at)
    VALUES (
        v_challenge_id,
        1,
        'Day 1: Foundations - Unique Strengths & Perspectives',
        'Welcome to the first day of your intensive journey! Today, we lay the groundwork by exploring the foundational cognitive strengths and unique perspect...',
        100,
        '{"modules":[{"name":"Day 1: Foundations - Unique Strengths & Perspectives","estimatedReadTime":"15 min","points":100,"content":{"overview":"Welcome to the first day of your intensive journey! Today, we lay the groundwork by exploring the foundational cognitive strengths and unique perspectives that autistic individuals bring to the world. Understanding these benefits is key to appreciating neurodiversity.","sections":[{"title":"I. The Actionable Steps to Recognize Cognitive Strengths","description":"Embracing neurodiversity begins with actively recognizing and valuing the inherent strengths associated with autistic cognitive styles.","steps":[{"step":"Step 1: Confront Stereotypes and Embrace Cognitive Diversity","action":"Actively challenge preconceived notions about autism and understand it as a form of neurodiversity, offering different but equally valuable ways of thinking.","sourceSupport":[{"description":"\"Neurodiversity: The strength in differences.\" Harvard Health Publishing.","url":"https://www.health.harvard.edu/blog/neurodiversity-the-strength-in-differences-202302092892"}]},{"step":"Step 2: Appreciate Attention to Detail and Pattern Recognition","action":"Focus on how autistic individuals often excel in tasks requiring meticulous attention, logical analysis, and the ability to identify subtle patterns that others might miss.","sourceSupport":[{"description":"\"The advantages of autism.\" National Autistic Society.","url":"https://www.autism.org.uk/advice-and-guidance/what-is-autism/the-advantages-of-autism"}]},{"step":"Step 3: Value Deep Focus and Specialized Knowledge","action":"Recognize the capacity for intense, sustained focus on areas of interest, leading to expert-level knowledge and innovative contributions.","sourceSupport":[{"description":"\"Autism and Employment: The Untapped Potential.\" Deloitte.","url":"https://www2.deloitte.com/content/dam/Deloitte/au/Documents/human-capital/deloitte-au-hc-autism-employment-untapped-potential-030616.pdf"}]}]},{"title":"II. The Outcome: Achieving Enriched Environments and Innovation","description":"When we recognize and integrate these unique perspectives, our environments become richer, more innovative, and truly inclusive.","examples":["**Enhanced Problem Solving:** Autistic individuals often bring novel approaches to complex problems, identifying solutions overlooked by neurotypical thinking.","**Error Reduction & Quality Control:** Their meticulous nature can significantly reduce errors and improve the quality of work in various fields, from software development to scientific research.","**Innovation Through Specialization:** Deep interests can drive significant advancements, as sustained focus leads to mastery and groundbreaking discoveries."],"sources":[{"description":"\"Neurodiversity at work: A guide to the autism advantage.\" Harvard Business Review.","url":"https://hbr.org/2017/05/neurodiversity-at-work-a-guide-to-the-autism-advantage"}]}]},"quiz":[],"exercise":{"title":"Daily Reflection","instructions":"Today, reflect on how recognizing these inherent strengths can transform our understanding and interactions, fostering environments where everyone can thrive.","prompts":["How does today''s topic resonate with your personal experience?","What is one actionable step you can take today?"]}}]}'::jsonb,
        NOW()
    );

    -- Day 2
    INSERT INTO challenge_tasks (challenge_id, day_number, title, instructions, points, content_data, created_at)
    VALUES (
        v_challenge_id,
        2,
        'Day 2: Deep Dive into Logical Thinking & Problem-Solving',
        'On Day 2, we delve deeper into how the distinct logical thinking and problem-solving styles often associated with autistic individuals contribute uniq...',
        100,
        '{"modules":[{"name":"Day 2: Deep Dive into Logical Thinking & Problem-Solving","estimatedReadTime":"15 min","points":100,"content":{"overview":"On Day 2, we delve deeper into how the distinct logical thinking and problem-solving styles often associated with autistic individuals contribute uniquely to innovation and efficiency.","sections":[{"title":"I. The Actionable Steps to Leverage Logical Thinking","description":"Harnessing the power of autistic logical thinking requires understanding its characteristics and applying it strategically.","steps":[{"step":"Step 1: Prioritize Clarity and Direct Communication","action":"Recognize that autistic communication often values directness and precision, which can cut through ambiguity and lead to more efficient problem-solving.","sourceSupport":[{"description":"\"Communicating with Autistic People: Advice for Neurotypicals.\" Autistic Not Weird.","url":"https://autisticnotweird.com/communicating-with-autistic-people/"}]},{"step":"Step 2: Embrace Systems Thinking and Detail Orientation","action":"Understand how the ability to see systems, identify inconsistencies, and focus on details allows for robust solutions and error-checking.","sourceSupport":[{"description":"\"The Autistic Brain: Thinking Across the Spectrum.\" Temple Grandin, Richard Panek."}]},{"step":"Step 3: Value Unconventional Approaches to Challenges","action":"Encourage and consider problem-solving methods that deviate from neurotypical norms, as these can lead to truly innovative breakthroughs.","sourceSupport":[{"description":"\"Why Silicon Valley Should Hire More Autistic People.\" Wired.","url":"https://www.wired.com/2015/09/neurodiversity/"}]}]},{"title":"II. The Outcome: Achieving Groundbreaking Innovation and Efficiency","description":"Integrating these logical and systemic approaches fosters environments ripe for innovation and highly efficient processes.","examples":["**Technological Advancements:** Many autistic individuals thrive in STEM fields, contributing to software development, engineering, and scientific research with their unique analytical skills.","**Optimized Processes:** Their ability to spot inefficiencies and suggest logical improvements can streamline workflows and enhance productivity across industries.","**Creative Solutions:** Unconventional thinking often yields solutions that are not only effective but also novel and transformative."],"sources":[{"description":"\"Autistic workers bring unique skills to the workplace.\" The Guardian.","url":"https://www.theguardian.com/social-care-network/2016/apr/04/autistic-workers-bring-unique-skills-workplace"}]}]},"quiz":[],"exercise":{"title":"Daily Reflection","instructions":"Today, reflect on how diverse logical thinking can unlock new potentials and drive forward progress in any field.","prompts":["How does today''s topic resonate with your personal experience?","What is one actionable step you can take today?"]}}]}'::jsonb,
        NOW()
    );

    -- Day 3
    INSERT INTO challenge_tasks (challenge_id, day_number, title, instructions, points, content_data, created_at)
    VALUES (
        v_challenge_id,
        3,
        'Day 3: Application I - Authenticity & Integrity in Action',
        'Day 3 focuses on the powerful contributions of authenticity and integrity, often prominent traits in autistic individuals, and how these foster trust ...',
        100,
        '{"modules":[{"name":"Day 3: Application I - Authenticity & Integrity in Action","estimatedReadTime":"15 min","points":100,"content":{"overview":"Day 3 focuses on the powerful contributions of authenticity and integrity, often prominent traits in autistic individuals, and how these foster trust and clear ethical frameworks in any setting.","sections":[{"title":"I. The Actionable Steps to Promote Authenticity and Integrity","description":"Cultivating an environment where authenticity and integrity are valued involves conscious efforts to recognize and integrate these qualities.","steps":[{"step":"Step 1: Embrace Directness and Honesty","action":"Appreciate the tendency of many autistic individuals to communicate without hidden agendas or social masking, promoting transparency and trust.","sourceSupport":[{"description":"\"The Strengths of Autism: A Personal Perspective.\" Autistic Self Advocacy Network (ASAN).","url":"https://autisticadvocacy.org/assets/docs/autism-strengths.pdf"}]},{"step":"Step 2: Value Reliability and Adherence to Principles","action":"Recognize and reward the commitment to promises, rules, and ethical standards that often characterizes autistic individuals, building a foundation of dependability.","sourceSupport":[{"description":"\"Autism at Work: Harnessing Neurodiversity in the Workplace.\" SAP.","url":"https://www.sap.com/documents/2015/07/9a374668-5b7c-0010-82c7-eda71af511fa.html"}]},{"step":"Step 3: Foster Environments that Discourage Manipulation","action":"Create spaces where honesty is rewarded and social games or indirect communication are minimized, allowing authentic interactions to flourish.","sourceSupport":[{"description":"\"Neurodiversity and Ethical Leadership.\" Journal of Business Ethics."}]}]},{"title":"II. The Outcome: Achieving Stronger Relationships and Ethical Environments","description":"When authenticity and integrity are central, relationships deepen, and ethical standards are naturally upheld.","examples":["**Enhanced Trust:** Direct communication and honesty foster environments of high trust, reducing misunderstandings and hidden conflicts.","**Ethical Decision-Making:** Individuals who prioritize principles over social expediency can strengthen an organization''s ethical backbone and decision-making processes.","**Loyal Partnerships:** Authenticity builds deep, enduring relationships based on mutual respect and genuine connection, whether in personal or professional spheres."],"sources":[{"description":"\"The Power of Neurodiversity: Unleashing the Advantages of Your Differently Wired Brain.\" Thomas Armstrong."}]}]},"quiz":[],"exercise":{"title":"Daily Reflection","instructions":"Today, consider how embracing authenticity and integrity can lead to more genuine connections and a more principled world.","prompts":["How does today''s topic resonate with your personal experience?","What is one actionable step you can take today?"]}}]}'::jsonb,
        NOW()
    );

    -- Day 4
    INSERT INTO challenge_tasks (challenge_id, day_number, title, instructions, points, content_data, created_at)
    VALUES (
        v_challenge_id,
        4,
        'Day 4: Application II - Empathy & Connection (Reimagined)',
        'Day 4 challenges common misconceptions about empathy in autistic individuals. We''ll explore how autistic empathy often manifests differently but is eq...',
        100,
        '{"modules":[{"name":"Day 4: Application II - Empathy & Connection (Reimagined)","estimatedReadTime":"15 min","points":100,"content":{"overview":"Day 4 challenges common misconceptions about empathy in autistic individuals. We''ll explore how autistic empathy often manifests differently but is equally profound, leading to unique forms of connection and a strong sense of justice.","sections":[{"title":"I. The Actionable Steps to Understand Autistic Empathy","description":"Moving beyond neurotypical definitions of empathy helps us appreciate the diverse ways connection and care are expressed.","steps":[{"step":"Step 1: Recognize Diverse Forms of Empathy","action":"Understand that empathy isn''t solely about mirroring emotions (affective empathy); it also includes cognitive empathy (understanding another''s perspective) and compassionate empathy (motivation to help). Autistic individuals often excel in cognitive and compassionate empathy.","sourceSupport":[{"description":"\"Autistic people may struggle with empathy, but that''s not the whole story.\" The Conversation.","url":"https://theconversation.com/autistic-people-may-struggle-with-empathy-but-thats-not-the-whole-story-104996"}]},{"step":"Step 2: Value Justice-Oriented and Intense Empathy","action":"Observe how autistic individuals often feel intense empathy for specific causes, animals, or individuals who are perceived as vulnerable or experiencing injustice.","sourceSupport":[{"description":"\"High Empathy: Why This Autistic Trait Is a Strength.\" Psych Central.","url":"https://psychcentral.com/autism/high-empathy-autism-strength"}]},{"step":"Step 3: Create Space for Unique Expressions of Care","action":"Allow and validate different ways of showing care and connection, which might not always conform to neurotypical social cues but are deeply felt and expressed.","sourceSupport":[{"description":"\"What is Empathy in Autism? Rethinking a Core Trait.\" Spectrum News.","url":"https://www.spectrumnews.org/news/what-is-empathy-in-autism-rethinking-a-core-trait/"}]}]},{"title":"II. The Outcome: Achieving Deeper, Authentic Connections and a More Just World","description":"When we expand our understanding of empathy, we unlock richer connections and empower advocates for fairness.","examples":["**Passionate Advocacy:** Autistic individuals often become fierce advocates for human rights, environmental protection, or social justice issues they care deeply about.","**Unconditional Loyalty:** Friendships and relationships with autistic individuals can be characterized by profound loyalty and unwavering support.","**Ethical Compass:** Their strong sense of fairness and justice can guide teams and communities toward more equitable practices."],"sources":[{"description":"\"Divergent Mind: Thriving in a World That Wasn''t Designed for You.\" Jenara Nerenberg."}]}]},"quiz":[],"exercise":{"title":"Daily Reflection","instructions":"Today, reflect on how expanding our definition of empathy allows for more inclusive and meaningful human connections.","prompts":["How does today''s topic resonate with your personal experience?","What is one actionable step you can take today?"]}}]}'::jsonb,
        NOW()
    );

    -- Day 5
    INSERT INTO challenge_tasks (challenge_id, day_number, title, instructions, points, content_data, created_at)
    VALUES (
        v_challenge_id,
        5,
        'Day 5: Interruption - Creativity & Special Interests as Superpowers',
        'Day 5 celebrates the power of special interests and unique creative expressions often found in autistic individuals. These are not merely hobbies but ...',
        100,
        '{"modules":[{"name":"Day 5: Interruption - Creativity & Special Interests as Superpowers","estimatedReadTime":"15 min","points":100,"content":{"overview":"Day 5 celebrates the power of special interests and unique creative expressions often found in autistic individuals. These are not merely hobbies but can be profound drivers of expertise, innovation, and joy.","sections":[{"title":"I. The Actionable Steps to Unleash Special Interests","description":"Fostering environments where special interests can flourish transforms them into powerful assets for individuals and society.","steps":[{"step":"Step 1: Recognize and Value Intense Focus","action":"Understand that an autistic person''s intense focus on a special interest can lead to unparalleled depth of knowledge and skill, far beyond casual interest.","sourceSupport":[{"description":"\"The Benefits of Special Interests for Autistic People.\" National Autistic Society.","url":"https://www.autism.org.uk/advice-and-guidance/what-is-autism/the-benefits-of-special-interests-for-autistic-people"}]},{"step":"Step 2: Provide Opportunities for Deep Engagement","action":"Create educational and professional pathways that allow autistic individuals to explore and apply their special interests, turning passion into proficiency.","sourceSupport":[{"description":"\"Autism and Employment: The Untapped Potential.\" Deloitte.","url":"https://www2.deloitte.com/content/dam/Deloitte/au/Documents/human-capital/deloitte-au-hc-autism-employment-untapped-potential-030616.pdf"}]},{"step":"Step 3: Celebrate Unique Creative Expressions","action":"Acknowledge and appreciate the often unconventional and highly original forms of creativity that can emerge from autistic minds, whether in art, music, writing, or problem-solving.","sourceSupport":[{"description":"\"Creativity in Autism: A Systematic Review.\" Journal of Autism and Developmental Disorders."}]}]},{"title":"II. The Outcome: Achieving Expertise, Innovation, and Personal Fulfillment","description":"When special interests are seen as strengths, they become engines for personal growth, career success, and societal contribution.","examples":["**Expert-Level Contributions:** Special interests can transform into professional expertise, making individuals invaluable in fields requiring deep, niche knowledge (e.g., coding, historical research, data science).","**Groundbreaking Art and Music:** Many autistic artists and musicians bring unique perspectives and profound dedication to their craft, creating original and impactful works.","**Enhanced Well-being:** Engaging with special interests provides significant joy, reduces stress, and boosts self-esteem, contributing to overall mental health."],"sources":[{"description":"\"Unmasking Autism: Discovering the New Faces of Neurodiversity.\" Devon Price."}]}]},"quiz":[],"exercise":{"title":"Daily Reflection","instructions":"Today, embrace the idea that deep passion and unique creative expressions are powerful forces for good, benefiting both the individual and the wider community.","prompts":["How does today''s topic resonate with your personal experience?","What is one actionable step you can take today?"]}}]}'::jsonb,
        NOW()
    );

    -- Day 6
    INSERT INTO challenge_tasks (challenge_id, day_number, title, instructions, points, content_data, created_at)
    VALUES (
        v_challenge_id,
        6,
        'Day 6: Repair - Contributions to Workplace & Community',
        'On Day 6, we focus on the tangible and impactful contributions autistic individuals make to workplaces and communities when environments are inclusive...',
        100,
        '{"modules":[{"name":"Day 6: Repair - Contributions to Workplace & Community","estimatedReadTime":"15 min","points":100,"content":{"overview":"On Day 6, we focus on the tangible and impactful contributions autistic individuals make to workplaces and communities when environments are inclusive and supportive.","sections":[{"title":"I. The Actionable Steps to Foster Inclusive Workplaces and Communities","description":"Creating environments where autistic individuals can thrive requires intentional strategies and systemic support.","steps":[{"step":"Step 1: Implement Neurodiversity-Affirming Hiring Practices","action":"Adopt hiring processes that evaluate skills directly relevant to the job, rather than relying heavily on social interviews that might disadvantage autistic candidates.","sourceSupport":[{"description":"\"Autism in the workplace: The SAP experience.\" World Economic Forum.","url":"https://www.weforum.org/agenda/2017/04/autism-in-the-workplace-the-sap-experience/"}]},{"step":"Step 2: Provide Accessible Accommodations and Support","action":"Ensure workplaces offer sensory-friendly environments, clear communication, and flexibility, allowing autistic employees to perform at their best.","sourceSupport":[{"description":"\"Inclusive workplaces for autistic employees.\" National Autistic Society.","url":"https://www.autism.org.uk/advice-and-guidance/professional-practice/inclusive-workplaces"}]},{"step":"Step 3: Value Diverse Team Dynamics","action":"Recognize that neurodiverse teams often outperform homogeneous teams due to a broader range of perspectives and problem-solving approaches.","sourceSupport":[{"description":"\"Diversity Drives Better Outcomes.\" Scientific American.","url":"https://www.scientificamerican.com/article/diversity-drives-better-outcomes/"}]}]},{"title":"II. The Outcome: Achieving Enhanced Productivity, Innovation, and Team Cohesion","description":"When workplaces and communities embrace neurodiversity, the benefits extend to all members, fostering a more dynamic and effective collective.","examples":["**Increased Productivity & Quality:** Autistic employees often exhibit high levels of focus, accuracy, and diligence, leading to superior output in roles like data analysis, IT, and engineering.","**Reduced Groupthink:** Diverse perspectives challenge conventional thinking, leading to more innovative solutions and preventing costly mistakes.","**Improved Workplace Culture:** Inclusive practices benefit all employees by promoting clear communication, flexibility, and a focus on individual strengths."],"sources":[{"description":"\"GCHQ''s neurodiversity programme finds hidden talent.\" BBC News.","url":"https://www.bbc.com/news/uk-36102604"}]}]},"quiz":[],"exercise":{"title":"Daily Reflection","instructions":"Today, envision how intentional inclusion of autistic individuals creates more vibrant, productive, and innovative workplaces and communities for everyone.","prompts":["How does today''s topic resonate with your personal experience?","What is one actionable step you can take today?"]}}]}'::jsonb,
        NOW()
    );

    -- Day 7
    INSERT INTO challenge_tasks (challenge_id, day_number, title, instructions, points, content_data, created_at)
    VALUES (
        v_challenge_id,
        7,
        'Day 7: Integration - A Neurodiverse Future',
        'On our final day, we integrate all the insights gained, looking forward to a neurodiverse future where the unique strengths of autistic individuals ar...',
        100,
        '{"modules":[{"name":"Day 7: Integration - A Neurodiverse Future","estimatedReadTime":"15 min","points":100,"content":{"overview":"On our final day, we integrate all the insights gained, looking forward to a neurodiverse future where the unique strengths of autistic individuals are fully embraced and celebrated as essential to human progress and societal flourishing.","sections":[{"title":"I. The Actionable Steps Towards a Neurodiverse Future","description":"Building a truly neurodiverse future requires sustained advocacy, education, and systemic change.","steps":[{"step":"Step 1: Advocate for Neurodiversity Acceptance and Inclusion","action":"Support policies and initiatives that promote understanding, acceptance, and inclusion of autistic individuals in all spheres of life â€“ education, employment, and social settings.","sourceSupport":[{"description":"\"The Neurodiversity Movement: What It Is, Where It''s Been, and Where It''s Going.\" Autistic Self Advocacy Network (ASAN).","url":"https://autisticadvocacy.org/about-asan/about-neurodiversity/"}]},{"step":"Step 2: Educate and Challenge Ableist Structures","action":"Continuously educate ourselves and others about neurodiversity, challenging ableist assumptions and advocating for systems that accommodate diverse needs and strengths.","sourceSupport":[{"description":"\"Disability Visibility: First-Person Stories from the Twenty-First Century.\" Alice Wong."}]},{"step":"Step 3: Celebrate Neurodivergent Contributions as Essential","action":"Actively highlight and celebrate the past, present, and future contributions of autistic people to art, science, technology, culture, and society at large.","sourceSupport":[{"description":"\"Neurotribes: The Legacy of Autism and How to Think Smarter About People Who Think Differently.\" Steve Silberman."}]}]},{"title":"II. The Outcome: Achieving a More Inclusive, Innovative, and Compassionate Society","description":"A truly neurodiverse society is one where human potential is maximized, and all forms of intelligence and experience are valued.","examples":["**Broader Human Perspective:** Embracing neurodiversity enriches our collective understanding of what it means to be human, expanding our empathy and challenging narrow definitions of ''normal.''","**Enhanced Societal Resilience:** A society that values diverse problem-solvers and thinkers is more adaptable and resilient in the face of complex global challenges.","**Ethical and Sustainable Progress:** Autistic perspectives, often prioritizing logic and justice, can guide society towards more sustainable and equitable paths for technological and social development."],"sources":[{"description":"\"Neurodiversity: An Insider''s Guide to the Autistic Brain.\" Paul N. D. Whiteley."}]}]},"quiz":[],"exercise":{"title":"Daily Reflection","instructions":"Congratulations on completing your 7-Day Intensive Journey! The path to embracing neurodiversity is ongoing, but your understanding and advocacy are vital steps towards a more inclusive and brilliant future for all.","prompts":["How does today''s topic resonate with your personal experience?","What is one actionable step you can take today?"]}}]}'::jsonb,
        NOW()
    );

END $$;
